# Go的依赖管理
## 依赖管理演进
GOPATH --> GO Vender --> Go Module

+ 不同环境（项目）依赖的版本不同
+ 控制依赖库的版本

## 1. GOPATH
在项目开发中，任何项目免不了对第三方项目包依赖引用，可以方便**直接调用想并获得结果**，可以避免的代码逻辑的复杂性和冗余性。

golang语言默认使用 GOPATH 来管理go的工程。

手动配置到环境变量中的，可以理解成go的 **workspace**

**GOPATH文件结构**
有三个子目录：

|——— bin 项目编译的二进制文件

|——— pkg 项目编译的中间产物，加速编译
    
|——— src 项目源码

+ 项目代码直接依赖src下的代码
+ 可以使用go get下载最新版本的包到src目录下

当我们在src目录中写的模块是main时, 它会对应到一个可执行文件, 并且编译后的文件会被复制到bin目录； 如果是其他模块, 它会被编译成一个库文件, 并且被复制到pkg目录；

这就是我们必须提供三个目录的原因, 一个放源代码, 一个放编译后的可执行文件, 另外一个放编译后的库文件。

## 2. Go Vendor
当我们在使用GOPATH的时候，可能遇到这样一个问题，就是在GOPATH模式下的每一个包都是独立存在的，什么意思呢，这样代表同一个依赖的不同版本是不能同时存在于项目当中的。于是就会出现冲突问题，所以我们引入了Go Vendor

Go Vendor提供了一个方式，就是在每一个项目目录当中添加一个vendor文件夹，我们将该项目的所有依赖都放置在vendor文件夹当中，这样不同项目之间的依赖包就不会互相影响

+ 项目中新增vendor文件夹，所有依赖包副本形式放在 $ProjectRoot/vendor
+ 依赖的寻址方式为： vendor --> GOPATH

尽管如此，该方法还是出现了许多问题：
1. 当项目所依赖的包很多，这样分别下载依赖的方式导致包占的内春就会非常大，加大开销
2. 无法控制依赖的版本
3. 更新项目又可能出现依赖冲突，导致编译出错
